name: sync-issues

on:
  workflow_dispatch:
  push:
  issues:
    types:
      [
        opened,
        deleted,
        transferred,
        closed,
        reopened,
        assigned,
        unassigned,
        labeled,
        unlabeled,
      ]

jobs:
  run-sync:
    runs-on: ubuntu-latest
    steps:
      - name: sync-issues
        uses: ./
        env:
          GITHUB_TOKEN: ${{ secrets.ISSUE_SYNC_TOKEN }}
        with:
          repo_target: "MixedRealityToolkit/MixedRealityToolkit-Unity" # The target repository
          only_sync_on_label: "MRTK3" # Only syncs issues with this label set
          only_sync_main_issue: false # Excludes comments